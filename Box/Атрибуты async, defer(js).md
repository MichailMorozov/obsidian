
___###### tags: #pl/js 
###### links: [[JavaScript]]
___
[Ссылка](https://learn.javascript.ru/script-async-defer)
### Async

Скрипты, загруженные с использованием атрибута _async_, будут загружать скрипт, не блокируя страницу во время загрузки скрипта. Однако после завершения загрузки запускается скрипт, который блокирует отображение страницы. Вы не получаете никакой гарантии, что сценарии будут выполняться в каком-либо определенном порядке. Лучше всего использовать _async_, когда сценарии на странице выполняются независимо друг от друга и не зависят ни от одного другого сценария на странице.
_async_ следует использовать, когда у вас есть куча фоновых скриптов для загрузки, и вы просто хотите выполнить их как можно скорее. Например, у вас есть файлы с игровыми данными для загрузки, которые потребуются, когда игра действительно начнется, но сейчас вы просто хотите показать вступление к игре, заголовки и лобби, не блокируя их загрузкой скрипта.

### defer
Скрипты, загруженные с атрибутом _defer_, будут загружаться в том порядке, в котором они появляются на странице. Они не будут работать до тех пор, пока не будет загружено все содержимое страницы, что полезно, если ваши сценарии зависят от наличия DOM 
Скрипты, загруженные с использованием атрибута _defer_ , будут запускаться в том порядке, в котором они появляются на странице, и выполняться сразу после загрузки скрипта и контента:

### Резюмируем:

- _async_ и _defer_ предписывают браузеру загружать сценарии в отдельном потоке, в то время как остальная часть страницы (DOM и т. д.) загружается, поэтому загрузка страницы не блокируется во время процесса выборки.

- скрипты с атрибутом _async_ будут выполняться сразу после завершения загрузки. Это блокирует страницу и не гарантирует какой-либо определенный порядок выполнения.

- скрипты с атрибутом _defer_ будут загружаться в том порядке, в котором они находятся, и будут выполняться только после того, как все загрузится.

- Если ваши скрипты должны запускаться немедленно и у них нет никаких зависимостей, используйте _async_.

- Если ваши скрипты должны ждать разбора и зависят от других скриптов и/или наличия DOM, загрузите их с помощью _defer_ и поместите соответствующие им элементы `<script>` в том порядке, в котором вы хотите, чтобы браузер выполнял их.

(например, они изменяют один или несколько элементов на странице).

![[Pasted image 20240213232302.png]]